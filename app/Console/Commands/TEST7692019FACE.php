<?php

namespace App\Console\Commands;

use GuzzleHttp\Client;
use Illuminate\Console\Command;
use App\Handler\FaceDetectController;

class TEST7692019FACE extends Command
{
    /**
     * The name and signature of the console command.
     *
     * @var string
     */
    protected $signature = 'test_769_face2019';

    /**
     * The console command description.
     *
     * @var string
     */
    protected $description = '仁德一中2019級學生照片導入';
    protected $drip;

    /**
     * Create a new command instance.
     *
     * @return void
     */
    public function __construct(FaceDetectController $drip)
    {
        parent::__construct();
        $this->drip = $drip;
    }

    /**
     * Execute the console command.
     *
     * @return mixed
     */
    public function handle()
    {
        $idarr1=[519174,519175,519176,519177,519178,519179,519180,519181,519182,519183,519184,519185,519186,519187,519188,519189,519190,519191,519192,519193,519194,519195,519196,519197,519198,519199,519200,519201,519202,519203,519204,519205,519206,519207,519208,519209,519210,519211,519212,519213,519214,519215,519216,519217,519218,519219,519220,519221,519222,519223,519224,519225,519226,519227,519228,519229,519230,519231,519232,519233,519234,519235,519236,519237,519238,519239,519240,519241,519242,519243,519244,519245,519246,519247,519248,519249,519250,519251,519252,519253,519254,519255,519256,519257,519258,519259,519260,519261,519262,519263,519264,519265,519266,519267,519268,519269,519270,519271,519272,519273];
        $idarr2=[519274,519275,519276,519277,519278,519279,519280,519281,519282,519283,519284,519285,519286,519287,519288,519289,519290,519291,519292,519293,519294,519295,519296,519297,519298,519299,519300,519301,519302,519303,519304,519305,519306,519307,519308,519309,519310,519311,519312,519313,519314,519315,519316,519317,519318,519319,519320,519321,519322,519323,519324,519325,519326,519327,519328,519329,519330,519331,519332,519333,519334,519335,519336,519337,519338,519339,519340,519341,519342,519343,519344,519345,519346,519347,519348,519349,519350,519351,519352,519353,519354,519355,519356,519357,519358,519359,519360,519361,519362,519363,519364,519365,519366,519367,519368,519369,519370,519371,519372,519373
        ];
        $idarr3=[519374,519375,519376,519377,519378,519379,519380,519381,519382,519383,519384,519385,519386,519387,519388,519389,519390,519391,519392,519393,519394,519395,519396,519397,519398,519399,519400,519401,519402,519403,519404,519405,519406,519407,519408,519409,519410,519411,519412,519413,519414,519415,519416,519417,519418,519419,519420,519421,519422,519423,519424,519425,519426,519427,519428,519429,519430,519431,519432,519433,519434,519435,519436,519437,519438,519439,519440,519441,519442,519443,519444,519445,519446,519447,519448,519449,519450,519451,519452,519453,519454,519455,519456,519457,519458,519459,519460,519461,519462,519463,519464,519465,519466,519467,519468,519469,519470,519471,519472,519473
        ];
        $idarr31=[519465,519466,519467,519468,519469,519470,519471,519472,519473];
        $idarr4=[519474,519475,519476,519477,519478,519479,519480,519481,519482,519483,519484,519485,519486,519487,519488,519489,519490,519491,519492,519493,519494,519495,519496,519497,519498,519499,519500,519501,519502,519503,519504,519505,519506,519507,519508,519509,519510,519511,519512,519513,519514,519515,519516,519517,519518,519519,519520,519521,519522,519523,519524,519525,519526,519527,519528,519529,519530,519531,519532,519533,519534,519535,519536,519537,519538,519539,519540,519541,519542,519543,519544,519545,519546,519547,519548,519549,519550,519551,519552,519553,519554,519555,519556,519557,519558,519559,519560,519561,519562,519563,519564,519565,519566,519567,519568,519569,519570,519571,519572,519573
        ];
        $idarr5=[519574,519575,519576,519577,519578,519579,519580,519581,519582,519583,519584,519585,519586,519587,519588,519589,519590,519591,519592,519593,519594,519595,519596,519597,519598,519599,519600,519601,519602,519603,519604,519605,519606,519607,519608,519609,519610,519611,519612,519613,519614,519615,519616,519617,519618,519619,519620,519621,519622,519623,519624,519625,519626,519627,519628,519629,519630,519631,519632,519633,519634,519635,519636,519637,519638,519639,519640,519641,519642,519643,519644,519645,519646,519647,519648,519649,519650,519651,519652,519653,519654,519655,519656,519657,519658,519659,519660,519661,519662,519663,519664,519665,519666,519667,519668,519669,519670,519671,519672,519673
        ];
        $idarr6=[519674,519675,519676,519677,519678,519679,519680,519681,519682,519683,519684,519685,519686,519687,519688,519689,519690,519691,519692,519693,519694,519695,519696,519697,519698,519699,519700,519701,519702,519703,519704,519705,519706,519707,519708,519709,519732,519733,519734,519735,519736,519737,519738,519739,519740,519741,519742,519743,519744,519745,519746,519747,519748,519749,519750,519751,519752,519753,519754,519755,519756,519757,519758,519759,519760,519761,519762,519763,519764,519765,519766,519767,519768,519769,519770,519771,519772,519773,519774,519775,519776,519777,519778,519779,519780,519781,519782,519783,519784,519785,519786,519787,519788,519789,519790,519791,519792,519793,519794,519795
        ];
        $idarr7=[519796,519797,519798,519799,519800,519801,519802,519803,519804,519805,519806,519807,519808,519809,519810,519811,519812,519813,519814,519815,519816,519817,519818,519819,519820,519821,519822,519823,519824,519825,519826,519827,520544,520545
        ];
        $idarr4193=[492373,492374,492375,492376,492377,492378,492379,492380,492381,492382,492383,492384,492385,492386,492387,492388,492389,492390,492391,492392,492393,492394,492395,492396,492397,492398,492399,492400,492401,492402,492403,492404,492405,492406,492407,492408,492409,492410,492411,492412,492413,492414,492415,492416,492417,492418,492419,492420,492421,492422,492423,492424,492425,492426,492427,492428,492429,492430,492431,492432,492433,492434,492435,492436,492437,492438,492439,492440,492441,492442,492443,492444,492445,492446,492447,492448,492449,492450,492451,492452,492453,492454,492455,492456,492457,492458,492459,492460,492461,492462,492463,492464,492465,492466,492467,492468,492469,492470,492471,492472,492473,492474,492475,492476,492477,492478,492479,492480,492481,492482,492483,492484,492485,492486,492487,492488,492489,492490,492491,492492,492493,492494,492495,492496,492497,492499,492500,492501,492502,492503,492504,492505,492506,492507,492508,492509,492510,492511,492512,492513,492514,492515,492516,492517,492518,492519,492520,492521,492522,492523,492524,492525,492526,492527,492528,492529,498502,498503,498504,498505,498506,498507,498508,498509,498511,498512,498513,498514,498515,498516,498518,498519,498521,500046,500047,500048,500049,500050,511807,525904,525906,525907,528648];
        $idarr41932=[492373,492378,492379,492381,492383,492385,492387,492391,492394,492395,492396,492397,492398,492400,492401,492402,492404,492411,492414,492417,492420,492421,492423,492424,492427,492431,492433,492434,492436,492437,492439,492440,492444,492448,492450,492451,492453,492454,492455,492460,492461,492465,492469,492472,492473,492474,492476,492477,492478,492479,492480,492483,492486,492489,492492,492493,492494,492500,492503,492504,492506,492513,492515,492516,492520,492523,492524,492525,492526,492527,492528,498502,498504,498505,498506,498509,498512,498513,498514,500046,500048,500050,511807,525904,525906,525907,528648];
        $idarr41933= [492373,492379,492381,492383,492385,492391,492397,492401,492404,492411,492414,492417,492421,492427,492431,492433,492437,492448,492451,492461,492465,492469,492472,492473,492476,492477,492480,492483,492486,492489,492492,492503,492515,492516,492520,492523,492524,492528,498504,498506,511807] ;
        $ip_arr=['192.168.30.8','192.168.30.9',
        '192.168.30.13','192.168.30.14',
        '192.168.30.18','192.168.30.19',
        '192.168.30.23','192.168.30.24',
        '192.168.30.28','192.168.30.29',
        '192.168.30.33','192.168.30.34',
        '192.168.30.38','192.168.30.39',
        '192.168.30.43','192.168.30.44',
        '192.168.30.48','192.168.30.49',
        '192.168.30.53','192.168.30.54'];
        $ip_arr=["192.168.30.34"];
        $fail_arr=[];
        foreach($idarr41933 as $id){
            foreach($ip_arr as $ip){
                info('______________________________________________');
                $rt=$this->drip->delPersonFace($ip,$id);
                if(!$rt['success']){
                    info($id.' 失敗');
                    echo $id.' 删除照片失敗'.PHP_EOL;
                    $fail_arr[]=$id;break;
                }
                $rt=$this->drip->createBase64($ip,$id);
                if(!$rt['success']){
                    info($id.' 失敗');
                    echo $id.' 注册失敗'.$rt['msg'].PHP_EOL;
                    $fail_arr[]=$id;break;
                }
                echo $id.' 成功'.PHP_EOL;
            }
        }
        info('2019級仁德一中失敗id ',$fail_arr);
        
    }
}
